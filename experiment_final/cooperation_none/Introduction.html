{% extends "global/Page.html" %}

{% block title %}
<h2 class="text-center" style="margin-top: 20px;">Instructions</h2>
{% endblock %}

{% block content %}
<div class="instruction-container">

    <!-- Section 1 -->
    <div class="instruction-box" id="section1">
        <h3>1. Overview</h3>
        <p>You will participate in a <strong>Sequential Cooperation Game</strong> with a total of <strong>n</strong> players (including yourself).</p>
        <p>The group of <strong>n</strong> players will remain fixed throughout the experiment.</p>
        <div class="button-container">
          <button type="button" class="nav-btn" onclick="changeSection('section1', 'section2')">Next</button>
        </div>
    </div>

    <!-- Section 2 -->
    <div class="instruction-box hidden" id="section2">
        <h3>2. Position Assignment</h3>
        <p>At the start of each round, players will be randomly assigned a position from <strong>1 to n</strong>.</p>
        <p>Your position determines the order in which your decision is considered. For example:</p>
        <ul>
            <li>If you are in position 1, your decision comes first.</li>
            <li>If you are in position 2, your decision comes second, and so on.</li>
        </ul>
        <div class="button-container">
          <button type="button" class="nav-btn" onclick="changeSection('section2', 'section1')">Back</button>
          <button type="button" class="nav-btn" onclick="changeSection('section2', 'section3')">Next</button>
        </div>
    </div>

    <!-- Section 3 -->
    <div class="instruction-box hidden" id="section3">
        <h3>3. Number of Rounds</h3>
        <p>The game consists of <strong>10 rounds</strong>.</p>
        <p>After the first 5 rounds, you will be shown how many of those rounds resulted in full cooperation (e.g., <em>3 out of 5</em>).</p>
        <p>You may also receive additional information to help you decide your strategy in the second half of the game.
           (If you receive the additional information, everyone else in your group will receive the same too;
           if you don't, no one in your group will receive it.)</p>
        <div class="button-container">
          <button type="button" class="nav-button" onclick="changeSection('section3', 'section2')">Back</button>
          <button type="button" class="nav-button" onclick="changeSection('section3', 'section4')">Next</button>
        </div>
    </div>

    <!-- Section 4 -->
    <div class="instruction-box hidden" id="section4">
        <h3>4. Decision and Payoff Rules</h3>
        <p>In each round, you must choose to either <strong>cooperate</strong> or <strong>quit</strong>.</p>
        <ul>
            <li>If you quit and are the <strong>first quitter</strong> (i.e., the lowest position among quitters), you will earn <strong>$3</strong>. All other players earn <strong>$0</strong> regardless of their choice.</li>
            <li>If <strong>all players cooperate</strong>, each player earns <strong>$6</strong>.</li>
        </ul>
        <p>Note: You will not see your earnings immediately after each round. However, after round 5, you will be shown the number of fully cooperative rounds so far (e.g., <em>2/5</em>).</p>
        <div class="button-container">
          <button type="button" class="nav-button" onclick="changeSection('section4', 'section3')">Back</button>
          <button type="button" class="nav-button" onclick="changeSection('section4', 'section5')">Next</button>
        </div>
    </div>

    <!-- Section 5 -->
    <div class="instruction-box hidden" id="section5">
        <h3>5. Your Total Earnings</h3>
        <p>At the end of the experiment, your final payment will consist of:</p>
        <ul>
            <li>A fixed payment of <strong>$5</strong></li>
            <li>+ the sum of payoffs from <strong>2 randomly selected rounds</strong></li>
        </ul>
        <p>Please read the instructions carefully. If you have any questions, feel free to ask the experimenter before continuing.</p>
        <div class="button-container">
          <button type="button" class="nav-button" onclick="changeSection('section5', 'section4')">Back</button>
          <button type="submit" class="final-button">Start Study</button>
        </div>
    </div>

</div>

<style>
    .instruction-container {
        max-width: 800px;
        margin: 0 auto;
        font-family: 'Arial', sans-serif;
    }

    .instruction-box {
        background-color: #f8f9fa;
        border: 1px solid #ddd;
        border-radius: 8px;
        padding: 25px;
        margin: 30px 0;
        box-shadow: 0 4px 6px rgba(0,0,0,0.05);
    }

    .instruction-box h3 {
        margin-top: 0;
        color: #343a40;
    }

    .instruction-box p, ul {
        font-size: 16px;
        line-height: 1.6;
        color: #333;
    }

    ul {
        padding-left: 20px;
    }

    .button-container {
        text-align: center;
        margin-top: 20px;
    }

    button {
        padding: 10px 22px;
        font-size: 15px;
        border: none;
        border-radius: 5px;
        margin: 0 5px;
        cursor: pointer;
        transition: background-color 0.3s;
    }

    .next-btn {
        background-color: #007bff;
        color: white;
    }

    .next-btn:hover {
        background-color: #0056b3;
    }

    .back-btn {
        background-color: #6c757d;
        color: white;
    }

    .back-btn:hover {
        background-color: #5a6268;
    }

    .start-btn {
        background-color: #28a745;
        color: white;
    }

    .start-btn:hover {
        background-color: #218838;
    }

    .hidden {
        display: none;
    }
</style>

<script>
    function changeSection(currentId, nextId) {
        document.getElementById(currentId).classList.add('hidden');
        document.getElementById(nextId).classList.remove('hidden');
    }
</script>
{% endblock %}
